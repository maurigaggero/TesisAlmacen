@page "/clientes"
@using MiAlmacen.Blazor.Services
@using MiAlmacen.Data
@using MiAlmacen.Model.Models
@inject IClienteService ClienteService

<h3>Clientes</h3>

@if(clientes == null)
{
    <p>Cargando...</p>
}
else if(clientes.Count() == 0)
{
    <p>No se encontraron clientes.</p>
}
else
{
 <table class="table table-hover">
     <thead class="thead thead-dark">
         <tr>
             <th>Id</th>
             <th>Nombre</th>
             <th>Dirección</th>
             <th>Teléfono</th>
         </tr>
     </thead>
    <tbody>
            <tr>    
            @foreach(var cliente in clientes)
            {
                <td>@cliente.Id</td>  
                <td>@cliente.Nombre</td>    
                <td>@cliente.Direccion</td>    
                <td>@cliente.Telefono</td>    
            }
            </tr>
    </tbody>         
</table>
}


@code {

    public IEnumerable<MiAlmacen.Data.Entities.Clientes> clientes { get; set; }

    protected override async Task OnInitializedAsync()
    {
        clientes = await ClienteService.GetAllClientes();
    }
}